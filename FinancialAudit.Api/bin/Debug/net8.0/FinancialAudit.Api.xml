<?xml version="1.0"?>
<doc>
    <assembly>
        <name>FinancialAudit.Api</name>
    </assembly>
    <members>
        <member name="M:FinancialAuditApi.Controllers.FileController.ExportTransactions(FinancialAudit.Application.DTOs.ExportRequestDto)">
            <summary>
            Exporta todas as transações no formato especificado (CSV ou XLSX).
            </summary>
            <param name="request">
            Objeto que contém o formato de exportação desejado. Deve ser especificado como "csv" para CSV ou "xlsx" para Excel.
            Exemplo de formato aceito:
            
            ```json
            {
                "format": "csv"
            }
            ```
            </param>
            <returns>
            200 OK: Retorna um arquivo contendo todas as transações no formato solicitado.
            - O arquivo será nomeado como 'transactions_{timestamp}.csv' para o formato CSV.
            - O arquivo será nomeado como 'transactions_{timestamp}.xlsx' para o formato Excel.
            
            Exemplo de resposta bem-sucedida:
            - Cabeçalho Content-Type: "text/csv" para CSV ou "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" para Excel.
            - O corpo da resposta será um arquivo binário correspondente ao formato solicitado.
            
            400 Bad Request: Se o formato não for especificado ou for inválido.
            Exemplo de resposta para formato inválido:
            ```json
            {
                "success": false,
                "message": "Formato inválido. Deve ser 'csv' ou 'xlsx'."
            }
            ```
            
            404 Not Found: Se não houver transações disponíveis para exportação.
            Exemplo de resposta quando não há transações:
            ```json
            {
                "success": false,
                "message": "Nenhuma transação encontrada para exportar."
            }
            ```
            </returns>
        </member>
        <member name="M:FinancialAuditApi.Controllers.FileController.ImportTransactions(Microsoft.AspNetCore.Http.IFormFile,System.String)">
             <summary>
             Importa transações de um arquivo enviado.
             O arquivo deve ser no formato CSV ou XLSX, contendo as colunas: UserId, Amount, Type, e Date.
             Transações sem um usuário correspondente na base de dados serão ignoradas e relatadas no resultado.
             </summary>
             <param name="file">O arquivo contendo as transações a serem importadas (obrigatório).</param>
             <param name="format">O formato do arquivo, podendo ser "csv" ou "xlsx" (obrigatório).</param>
             <returns>
             200 OK: Retorna o resultado da importação, incluindo uma lista das transações importadas com sucesso
             e uma lista das transações ignoradas (onde o UserId não foi encontrado no banco de dados).
             400 Bad Request: Se o arquivo estiver em um formato inválido, ou se ocorrerem erros de validação.
             404 Not Found: Se o arquivo não for encontrado ou se um formato inválido for especificado.
             </returns>
             <remarks>
             Exemplos de formatos de arquivo suportados:
             
             Arquivo CSV:
             ```csv
             UserId,Amount,Type,Date
             25ec78e9-5dd3-409f-aef1-44c715707fa1,5000.00,Deposit,20/10/2024 13:21:14
             e28d9d8a-3280-4d72-bfde-718cfe1fffb3,100.00,Purchase,22/10/2024 10:05:34
             ```
             
             Arquivo XLSX:
             - As colunas devem ser as mesmas do formato CSV.
             - O formato da data deve ser `dd/MM/yyyy HH:mm:ss`.
            
             Exemplo de requisição via *form-data*:
             ```http
             POST /api/file/import?format=csv
             Content-Type: multipart/form-data
            
             File: transactions.csv
             ```
             </remarks>
        </member>
        <member name="M:FinancialAuditApi.Controllers.TransactionsController.GetAllTransactions(System.Int32,System.Int32)">
            <summary>
            Retorna uma lista paginada de transações.
            </summary>
            <param name="pageNumber">O número da página a ser retornada. O valor padrão é 1.</param>
            <param name="pageSize">O número de itens por página. O valor padrão e máximo é 10.</param>
            <returns>
            200 OK: Retorna a lista paginada de transações.
            204 No Content: Se não houver transações disponíveis.
            400 Bad Request: Se ocorrer algum erro durante o processamento.
            </returns>
            <remarks>
            Exemplo de requisição para recuperar a primeira página com 10 transações:
            
            GET /api/Transactions?pageNumber=1&amp;pageSize=10
            
            Exemplo de resposta com transações paginadas:
            
            ```json
            {
                "success": true,
                "data": {
                    "items": [
                        {
                            "id": 1,
                            "userId": 123,
                            "amount": 150.75,
                            "type": "Deposit",
                            "timestamp": "2024-01-15T10:30:00Z"
                        },
                        {
                            "id": 2,
                            "userId": 123,
                            "amount": 50.00,
                            "type": "Withdrawal",
                            "timestamp": "2024-01-16T11:00:00Z"
                        }
                    ],
                    "totalCount": 2,
                    "pageSize": 10,
                    "currentPage": 1,
                    "totalPages": 1
                }
            }
            ```
            </remarks>
        </member>
        <member name="M:FinancialAuditApi.Controllers.TransactionsController.GetUserBalance(System.Guid)">
            <summary>
            Retorna o saldo atual de um usuário específico.
            </summary>
            <param name="userId">ID do usuário cujo saldo será retornado.</param>
            <returns>
            200 OK: Retorna o saldo do usuário.
            404 Not Found: Se o usuário não for encontrado.
            400 Bad Request: Se ocorrer um erro durante o processamento.
            </returns>
            <remarks>
            Exemplo de requisição para obter o saldo de um usuário:
            
            GET /api/Transactions/user/123/balance
            
            Exemplo de resposta com saldo do usuário:
            
            ```json
            {
                "success": true,
                "data": {
                    "userId": 123,
                    "balance": 1000.50
                }
            }
            ```
            
            Caso o usuário não seja encontrado, o retorno será:
            
            ```json
            {
                "success": false,
                "message": "Usuário não encontrado"
            }
            ```
            </remarks>
        </member>
        <member name="M:FinancialAuditApi.Controllers.TransactionsController.CreateTransaction(FinancialAudit.Application.DTOs.CreateTransactionDto)">
             <summary>
             Cria uma nova transação financeira.
             Tipos de transações permitidos: "Deposit", "Withdrawal", "Purchase".
             </summary>
             <param name="transactionDto">Dados da transação a ser criada, incluindo o tipo de transação (Deposit, Withdrawal, Purchase).</param>
             <returns>
             201 Created: Se a transação for criada com sucesso.
             400 Bad Request: Se os dados fornecidos forem inválidos ou ocorrer algum erro durante o processamento.
             </returns>
             <remarks>
             Exemplos de tipos de transações:
             - **Deposit**: Adiciona fundos à conta do usuário.
             - **Withdrawal**: Deduz fundos da conta do usuário.
             - **Purchase**: Deduz fundos como parte de uma compra.
            
             Exemplo de JSON para criação de uma transação:
             
             ```json
             {
                 "userId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
                 "amount": 150.75,
                 "type": "Deposit"
             }
             ```
             
             O campo `transactionDto.Type` deve ser preenchido com um dos seguintes valores:
             - "Deposit" (Depósito)
             - "Withdrawal" (Saque)
             - "Purchase" (Compra)
            
             Além disso, certifique-se de que o saldo do usuário é suficiente para "Withdrawal" ou "Purchase".
             </remarks>
        </member>
    </members>
</doc>
